<!DOCTYPE html>
<html class="no-js  page-85 app-E-DISTRICT-MANAGER-APPLICATION" lang="en">

<head>
  <meta http-equiv="x-ua-compatible" content="IE=edge" />
  <meta charset="utf-8">
  <title>eSevai Operator Change Request Form Page</title>
  <link rel="stylesheet" href="../assets/css/oj-redwood-notag-min.css" type="text/css">
  <link rel="stylesheet" href="../assets/css/Core.min.css" type="text/css">
  <link rel="stylesheet" href="../assets/css/Theme-Standard.min.css" type="text/css">
  <link rel="stylesheet" href="../assets/css/font-apex.min.css" type="text/css">
  <link rel="stylesheet" href="../assets/css/Core-theme.min.css" type="text/css">
  <link rel="stylesheet" href="../assets/css/custom.min.css" type="text/css">
  <link rel="stylesheet" href="../assets/css/theme.css" type="text/css">
  <link rel="stylesheet" href="../assets/css/commonMenu.css" type="text/css">
  <link href="../assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="../assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="../assets/vendor/datatable/css/dataTables.css" rel="stylesheet">
  <link rel="stylesheet" href="../assets/vendor/datatable/dataTables.bootstrap5.min.css">
  <!-- Vendor CSS Files -->
  <link href="../assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="../assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">

  <link href="../assets/vendor/toastr/toastr.min.css" rel="stylesheet">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="-1" />
  <meta http-equiv="Cache-Control" content="no-cache" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    #t_Body_nav {
      width: 100% !important;
    }
  </style>
</head>

<body
  class="t-PageBody t-PageBody--hideLeft t-PageBody--hideActions no-anim t-PageTemplate--standard   apex-side-nav apex-icons-fontapex apex-theme-vita-copy-1"
  id="t_PageBody">
  <a href="#main" id="t_Body_skipToContent">Skip to Main Content</a>
  <form role="none">
    <header class="t-Header" id="t_Header" role="banner">

      <div class="t-Header-branding">
        <div class="t-Header-controls">
          <button class="t-Button t-Button--icon t-Button--header t-Button--headerTree" aria-label="Main Navigation"
            title="Main Navigation" id="t_Button_navControl" type="button"><span class="t-Header-controlsIcon"
              aria-hidden="true"></span></button>
        </div>
        <div class="t-Header-logo">
          <!-- <a href="&#x2F;ords&#x2F;r&#x2F;edmdev&#x2F;e-district-manager-application&#x2F;home?session=114230090361743" class="t-Header-logo-link"><span class="apex-logo-text">e-District Manager Portal</span></a>-->
          <!-- <a href="&#x2F;ords&#x2F;r&#x2F;edmdev&#x2F;e-district-manager-application&#x2F;home?session=114230090361743" class="t-Header-logo-link">Toll Free Support : +91 9042370430</a>-->
          <P class="t-Header-logo-link">TNEGA</P>

        </div>
        <div class="t-Header-navBar">
          <div class="t-Header-navBar--start"></div>
          <div id="globalHeader"></div>
          <div class="t-Header-navBar--end"></div>
        </div>
      </div>
      <div class="t-Header-nav"></div>
    </header>
    <div class="t-Body">
      <div class="t-Body-nav" id="t_Body_nav" role="navigation" aria-label="Application">
        <div class="a-TreeView t-TreeNav js-addActions js-defaultCollapsed js-navCollapsed--hidden t-TreeNav--classic"
          id="t_TreeNav" data-id="85_tree" aria-label="Main Navigation">
          <ul id="commonMenuContainer"></ul>
        </div>
      </div>
      <div class="t-Body-main">
        <div class="t-Body-title" id="t_Body_title"></div>
        <div class="t-Body-content" id="t_Body_content">
          <main id="main" class="t-Body-mainContent">
            <span id="APEX_SUCCESS_MESSAGE" data-template-id="13879136713391167_S"
              class="apex-page-success u-hidden"></span><span id="APEX_ERROR_MESSAGE"
              data-template-id="13879136713391167_E" class="apex-page-error u-hidden"></span>
            <div class="t-Body-fullContent"></div>
            <div class="t-Body-contentInner">
              <div class="container">
                <div class="row ">
                  <div class="col col-12 apex-col-auto col-start col-end">
                    <div id="R34618643049459703" class=""><input type="hidden" name="P85_ID" id="P85_ID"
                        value="OPCNG3845"><input type="hidden" name="P85_CREATED_DATE" id="P85_CREATED_DATE"
                        value="4&#x2F;11&#x2F;2025">
                      <div class="container">
                        <div class="row ">
                          <div class="col col-6 apex-col-auto col-start">
                            <div
                              class="t-Form-fieldContainer is-required rel-col t-Form-fieldContainer--stretchInputs t-Form-fieldContainer--indicatorAsterisk t-Form-fieldContainer--large apex-item-wrapper apex-item-wrapper--has-initial-value apex-item-wrapper--display-only"
                              id="P85_DISTRICT_CONTAINER">
                              <div class="t-Form-labelContainer col col-2">
                                <label for="P85_DISTRICT" id="P85_DISTRICT_LABEL" class="t-Form-label">District </label>
                              </div>
                              <div class="t-Form-inputContainer col col-4">
                                <div class="t-Form-itemWrapper"><input type="hidden" id="P85_DISTRICT"
                                    name="P85_DISTRICT" value="Chengalpattu"><input type="hidden"
                                    data-for="P85_DISTRICT"
                                    value="mQtHtCpj0Uh_ueyBsFAYaHWjMD8hawcegHwBNKdxoysbkifrO0egd60frOZ_NgloFrlzlIm6neOC6d5UG1Zhgw"><span
                                    id="P85_DISTRICT_DISPLAY" class="display_only&#x20;apex-item-display-only"
                                    data-escape="true">Chengalpattu</span>
                                </div>
                                <div class="t-Form-itemAssistance">
                                  <span id="P85_DISTRICT_error_placeholder" class="a-Form-error"
                                    data-template-id="8676937166964195_ET"></span>
                                  <div class="t-Form-itemRequired" aria-hidden="true">Required</div>
                                </div>

                              </div>
                            </div>
                          </div>
                          <div class="col col-6 apex-col-auto col-end">
                            <div
                              class="t-Form-fieldContainer is-required rel-col t-Form-fieldContainer--stretchInputs t-Form-fieldContainer--indicatorAsterisk t-Form-fieldContainer--large apex-item-wrapper apex-item-wrapper--has-initial-value apex-item-wrapper--display-only"
                              id="P85_ESEVAI_ID_CONTAINER">
                              <div class="t-Form-labelContainer col col-2">
                                <label for="P85_ESEVAI_ID" id="P85_ESEVAI_ID_LABEL" class="t-Form-label">Esevai Id
                                </label>
                              </div>
                              <div class="t-Form-inputContainer col col-4">
                                <div class="t-Form-itemWrapper"><input type="hidden" id="P85_ESEVAI_ID"
                                    name="P85_ESEVAI_ID" value="TNPACKPM031-01"><input type="hidden"
                                    data-for="P85_ESEVAI_ID"
                                    value="8ifuOzKyvsvkjxyBKRC-m9L6OxQZJciNQejJS4itxZXVHwl7HWRS3V3pMgRlU0EXOtpONCnoW6XZV9VqpHWwCg"><span
                                    id="P85_ESEVAI_ID_DISPLAY" class="display_only&#x20;apex-item-display-only"
                                    data-escape="true">TNPACKPM031-01</span>
                                </div>
                                <div class="t-Form-itemAssistance">
                                  <span id="P85_ESEVAI_ID_error_placeholder" class="a-Form-error"
                                    data-template-id="8676937166964195_ET"></span>
                                  <div class="t-Form-itemRequired" aria-hidden="true">Required</div>
                                </div>

                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="row ">
                          <div class="col col-6 apex-col-auto col-start">
                            <div
                              class="t-Form-fieldContainer is-required rel-col t-Form-fieldContainer--stretchInputs t-Form-fieldContainer--indicatorAsterisk t-Form-fieldContainer--large apex-item-wrapper apex-item-wrapper--has-initial-value apex-item-wrapper--display-only"
                              id="P85_CURRENT_OPERATOR_NAME_CONTAINER">
                              <div class="t-Form-labelContainer col col-2">
                                <label for="P85_CURRENT_OPERATOR_NAME" id="P85_CURRENT_OPERATOR_NAME_LABEL"
                                  class="t-Form-label">Current Operator Name </label>
                              </div>
                              <div class="t-Form-inputContainer col col-4">
                                <div class="t-Form-itemWrapper"><input type="hidden" id="P85_CURRENT_OPERATOR_NAME"
                                    name="P85_CURRENT_OPERATOR_NAME" value="Roselin S"><input type="hidden"
                                    data-for="P85_CURRENT_OPERATOR_NAME"
                                    value="d5MUOUMXqhoDf6YUX-xnZjxM2bTKOEiZFMOBPPDsN9pgfWdhwZg5Piie2HKrTcUGzDSVOFJgKoaJ5qRnO0LvOw"><span
                                    id="P85_CURRENT_OPERATOR_NAME_DISPLAY"
                                    class="display_only&#x20;apex-item-display-only" data-escape="true">Roselin S</span>
                                </div>
                                <div class="t-Form-itemAssistance">
                                  <span id="P85_CURRENT_OPERATOR_NAME_error_placeholder" class="a-Form-error"
                                    data-template-id="8676937166964195_ET"></span>
                                  <div class="t-Form-itemRequired" aria-hidden="true">Required</div>
                                </div>

                              </div>
                            </div>
                          </div>
                          <div class="col col-6 apex-col-auto col-end">
                            <div
                              class="t-Form-fieldContainer is-required rel-col t-Form-fieldContainer--stretchInputs t-Form-fieldContainer--indicatorAsterisk t-Form-fieldContainer--large apex-item-wrapper apex-item-wrapper--has-initial-value apex-item-wrapper--display-only"
                              id="P85_CURRENT_OPERATOR_MOBILE_NUMBER_CONTAINER">
                              <div class="t-Form-labelContainer col col-2">
                                <label for="P85_CURRENT_OPERATOR_MOBILE_NUMBER"
                                  id="P85_CURRENT_OPERATOR_MOBILE_NUMBER_LABEL" class="t-Form-label">Current Operator
                                  Mobile Number </label>
                              </div>
                              <div class="t-Form-inputContainer col col-4">
                                <div class="t-Form-itemWrapper"><input type="hidden"
                                    id="P85_CURRENT_OPERATOR_MOBILE_NUMBER" name="P85_CURRENT_OPERATOR_MOBILE_NUMBER"
                                    value="9444748331"><input type="hidden"
                                    data-for="P85_CURRENT_OPERATOR_MOBILE_NUMBER"
                                    value="O0xcxHr0yn2qR9iCCh2hdhNsRRXvZbEWq24bZoqqikPWdoSd49MhJiQwk9NgHiQwUmiD1mpEHzwkUoaCWKv89A"><span
                                    id="P85_CURRENT_OPERATOR_MOBILE_NUMBER_DISPLAY"
                                    class="display_only&#x20;apex-item-display-only"
                                    data-escape="true">9444748331</span>
                                </div>
                                <div class="t-Form-itemAssistance">
                                  <span id="P85_CURRENT_OPERATOR_MOBILE_NUMBER_error_placeholder" class="a-Form-error"
                                    data-template-id="8676937166964195_ET"></span>
                                  <div class="t-Form-itemRequired" aria-hidden="true">Required</div>
                                </div>

                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="row ">
                          <div class="col col-6 apex-col-auto col-start">
                            <div
                              class="t-Form-fieldContainer is-required rel-col t-Form-fieldContainer--stretchInputs t-Form-fieldContainer--indicatorAsterisk t-Form-fieldContainer--large apex-item-wrapper apex-item-wrapper--has-initial-value apex-item-wrapper--display-only"
                              id="P85_CURRENT_MAIL_ID_CONTAINER">
                              <div class="t-Form-labelContainer col col-2">
                                <label for="P85_CURRENT_MAIL_ID" id="P85_CURRENT_MAIL_ID_LABEL"
                                  class="t-Form-label">Current Mail Id </label>
                              </div>
                              <div class="t-Form-inputContainer col col-4">
                                <div class="t-Form-itemWrapper"><input type="hidden" id="P85_CURRENT_MAIL_ID"
                                    name="P85_CURRENT_MAIL_ID" value="g1718athurpaccs@gmail.com"><input type="hidden"
                                    data-for="P85_CURRENT_MAIL_ID"
                                    value="l_kjf0Vgzi3BqVSuOOWc1_8mHkwYWE6CyNr3MGTYVZcr_43Lg2NuGe0LaDt2Zp8LDwvWm2z69R__fUSkZN3Tng"><span
                                    id="P85_CURRENT_MAIL_ID_DISPLAY" class="display_only&#x20;apex-item-display-only"
                                    data-escape="true">g1718athurpaccs@gmail.com</span>
                                </div>
                                <div class="t-Form-itemAssistance">
                                  <span id="P85_CURRENT_MAIL_ID_error_placeholder" class="a-Form-error"
                                    data-template-id="8676937166964195_ET"></span>
                                  <div class="t-Form-itemRequired" aria-hidden="true">Required</div>
                                </div>

                              </div>
                            </div>
                          </div>
                          <div class="col col-6 apex-col-auto col-end">
                            <div
                              class="t-Form-fieldContainer is-required rel-col t-Form-fieldContainer--stretchInputs t-Form-fieldContainer--indicatorAsterisk t-Form-fieldContainer--large apex-item-wrapper apex-item-wrapper--has-initial-value apex-item-wrapper--display-only"
                              id="P85_REASON_FOR_OPERATOR_CHANGE_CONTAINER">
                              <div class="t-Form-labelContainer col col-2">
                                <label for="P85_REASON_FOR_OPERATOR_CHANGE" id="P85_REASON_FOR_OPERATOR_CHANGE_LABEL"
                                  class="t-Form-label">Reason For Operator Change </label>
                              </div>
                              <div class="t-Form-inputContainer col col-4">
                                <div class="t-Form-itemWrapper"><input type="hidden" id="P85_REASON_FOR_OPERATOR_CHANGE"
                                    name="P85_REASON_FOR_OPERATOR_CHANGE"
                                    value="Operator resigned his job due to personal reason."><input type="hidden"
                                    data-for="P85_REASON_FOR_OPERATOR_CHANGE"
                                    value="SWbxkWN3asYESMKguuEXUsByhcVu3ep-10htmAIyx6LUrrrSw2X5_7qUOMCd5o-CC_ECjwig3Hpa2OcrWVB2oA"><span
                                    id="P85_REASON_FOR_OPERATOR_CHANGE_DISPLAY"
                                    class="display_only&#x20;apex-item-display-only" data-escape="true">Operator
                                    resigned his job due to personal reason.</span>
                                </div>
                                <div class="t-Form-itemAssistance">
                                  <span id="P85_REASON_FOR_OPERATOR_CHANGE_error_placeholder" class="a-Form-error"
                                    data-template-id="8676937166964195_ET"></span>
                                  <div class="t-Form-itemRequired" aria-hidden="true">Required</div>
                                </div>

                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="row ">
                          <div class="col col-6 apex-col-auto col-start">
                            <div
                              class="t-Form-fieldContainer is-required rel-col t-Form-fieldContainer--stretchInputs t-Form-fieldContainer--indicatorAsterisk t-Form-fieldContainer--large apex-item-wrapper apex-item-wrapper--has-initial-value apex-item-wrapper--display-only"
                              id="P85_NEW_OPERATOR_NAME_CONTAINER">
                              <div class="t-Form-labelContainer col col-2">
                                <label for="P85_NEW_OPERATOR_NAME" id="P85_NEW_OPERATOR_NAME_LABEL"
                                  class="t-Form-label">New Operator Name </label>
                              </div>
                              <div class="t-Form-inputContainer col col-4">
                                <div class="t-Form-itemWrapper"><input type="hidden" id="P85_NEW_OPERATOR_NAME"
                                    name="P85_NEW_OPERATOR_NAME" value="Swathi U"><input type="hidden"
                                    data-for="P85_NEW_OPERATOR_NAME"
                                    value="8wrmz682AkBUtEtnSYHfg0BaQTg6yRT3fv2iDDrKFyuqhaDlG2NvL6zspyiuofUbldgs4L1FAB8xixkWNKm-Sg"><span
                                    id="P85_NEW_OPERATOR_NAME_DISPLAY" class="display_only&#x20;apex-item-display-only"
                                    data-escape="true">Swathi U</span>
                                </div>
                                <div class="t-Form-itemAssistance">
                                  <span id="P85_NEW_OPERATOR_NAME_error_placeholder" class="a-Form-error"
                                    data-template-id="8676937166964195_ET"></span>
                                  <div class="t-Form-itemRequired" aria-hidden="true">Required</div>
                                </div>

                              </div>
                            </div>
                          </div>
                          <div class="col col-6 apex-col-auto col-end">
                            <div
                              class="t-Form-fieldContainer is-required rel-col t-Form-fieldContainer--stretchInputs t-Form-fieldContainer--indicatorAsterisk t-Form-fieldContainer--large apex-item-wrapper apex-item-wrapper--has-initial-value apex-item-wrapper--display-only"
                              id="P85_NEW_OPERATOR_PHONE_NUMBER_CONTAINER">
                              <div class="t-Form-labelContainer col col-2">
                                <label for="P85_NEW_OPERATOR_PHONE_NUMBER" id="P85_NEW_OPERATOR_PHONE_NUMBER_LABEL"
                                  class="t-Form-label">New Operator Phone Number </label>
                              </div>
                              <div class="t-Form-inputContainer col col-4">
                                <div class="t-Form-itemWrapper"><input type="hidden" id="P85_NEW_OPERATOR_PHONE_NUMBER"
                                    name="P85_NEW_OPERATOR_PHONE_NUMBER" value="8760825359"><input type="hidden"
                                    data-for="P85_NEW_OPERATOR_PHONE_NUMBER"
                                    value="EzAJNSv0JGph5jQO-_tQTeQtJuCOQMCHlImUrpWWLAZo0B8iuOwt4stf4H-SKGQXbuv478QLCSzA4KD6nN4Gyw"><span
                                    id="P85_NEW_OPERATOR_PHONE_NUMBER_DISPLAY"
                                    class="display_only&#x20;apex-item-display-only"
                                    data-escape="true">8760825359</span>
                                </div>
                                <div class="t-Form-itemAssistance">
                                  <span id="P85_NEW_OPERATOR_PHONE_NUMBER_error_placeholder" class="a-Form-error"
                                    data-template-id="8676937166964195_ET"></span>
                                  <div class="t-Form-itemRequired" aria-hidden="true">Required</div>
                                </div>

                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="row ">
                          <div class="col col-6 apex-col-auto col-start">
                            <div
                              class="t-Form-fieldContainer is-required rel-col t-Form-fieldContainer--stretchInputs t-Form-fieldContainer--indicatorAsterisk t-Form-fieldContainer--large apex-item-wrapper apex-item-wrapper--has-initial-value apex-item-wrapper--display-only"
                              id="P85_NEW_OPERATOR_AADHAR_NUMBER_CONTAINER">
                              <div class="t-Form-labelContainer col col-2">
                                <label for="P85_NEW_OPERATOR_AADHAR_NUMBER" id="P85_NEW_OPERATOR_AADHAR_NUMBER_LABEL"
                                  class="t-Form-label">New Operator Aadhar Number </label>
                              </div>
                              <div class="t-Form-inputContainer col col-4">
                                <div class="t-Form-itemWrapper"><input type="hidden" id="P85_NEW_OPERATOR_AADHAR_NUMBER"
                                    name="P85_NEW_OPERATOR_AADHAR_NUMBER" value="282132992686"><input type="hidden"
                                    data-for="P85_NEW_OPERATOR_AADHAR_NUMBER"
                                    value="IZmWFipwMRzMeeJGh9grenDWUX5zfxKxs822o53LQCYaNOBMFxgUAVnCsIJAPoSylb7szh8iIL49ukliGPmeRg"><span
                                    id="P85_NEW_OPERATOR_AADHAR_NUMBER_DISPLAY"
                                    class="display_only&#x20;apex-item-display-only"
                                    data-escape="true">282132992686</span>
                                </div>
                                <div class="t-Form-itemAssistance">
                                  <span id="P85_NEW_OPERATOR_AADHAR_NUMBER_error_placeholder" class="a-Form-error"
                                    data-template-id="8676937166964195_ET"></span>
                                  <div class="t-Form-itemRequired" aria-hidden="true">Required</div>
                                </div>

                              </div>
                            </div>
                          </div>
                          <div class="col col-6 apex-col-auto col-end">
                            <div
                              class="t-Form-fieldContainer rel-col t-Form-fieldContainer--stretchInputs t-Form-fieldContainer--large apex-item-wrapper apex-item-wrapper--has-initial-value apex-item-wrapper--display-only"
                              id="P85_NEW_MAIL_ID_CONTAINER">
                              <div class="t-Form-labelContainer col col-2">
                                <label for="P85_NEW_MAIL_ID" id="P85_NEW_MAIL_ID_LABEL" class="t-Form-label">New Mail
                                  Id</label>
                              </div>
                              <div class="t-Form-inputContainer col col-4">
                                <div class="t-Form-itemWrapper"><input type="hidden" id="P85_NEW_MAIL_ID"
                                    name="P85_NEW_MAIL_ID" value="g1718athurpaccs@gmail.com"><input type="hidden"
                                    data-for="P85_NEW_MAIL_ID"
                                    value="tAGAUDs0EjKj2TyLyRRv14HVmDXwQ8SonfajxYMUvIl8uVwU6Ro7KB_mv4DVLCs2beC2Orbe35FUlH5Yo1SsQA"><span
                                    id="P85_NEW_MAIL_ID_DISPLAY" class="display_only&#x20;apex-item-display-only"
                                    data-escape="true">g1718athurpaccs@gmail.com</span></div><span
                                  id="P85_NEW_MAIL_ID_error_placeholder" class="a-Form-error"
                                  data-template-id="8676686131964195_ET"></span>
                              </div>
                            </div><input type="hidden" name="P85_PHOTO_ATTACHMENT" id="P85_PHOTO_ATTACHMENT"
                              value=""><input type="hidden" name="P85_MIME_TYPE" id="P85_MIME_TYPE"
                              value="image&#x2F;jpeg"><input type="hidden" name="P85_FILE_NAME" id="P85_FILE_NAME"
                              value="New Employee (1).jpg"><input type="hidden" name="P85_STATUS" id="P85_STATUS"
                              value="C"><input type="hidden" name="P85_CREATED_BY" id="P85_CREATED_BY"
                              value="EDM0366"><input type="hidden" name="P85_CREATED_DTTM" id="P85_CREATED_DTTM"
                              value="4&#x2F;11&#x2F;2025"><input type="hidden" name="P85_UPDATED_BY" id="P85_UPDATED_BY"
                              value="EDM0202"><input type="hidden" name="P85_UPDATED_DTTM" id="P85_UPDATED_DTTM"
                              value="4&#x2F;29&#x2F;2025">
                          </div>
                        </div>
                        <div class="row ">
                          <div class="col col-6  col-start">
                            <div
                              class="t-Form-fieldContainer is-required rel-col t-Form-fieldContainer--stretchInputs t-Form-fieldContainer--indicatorAsterisk t-Form-fieldContainer--large apex-item-wrapper apex-item-wrapper--textarea"
                              id="P85_REJECT_COMMENTS_CONTAINER">
                              <div class="t-Form-labelContainer col col-2">
                                <label for="P85_REJECT_COMMENTS" id="P85_REJECT_COMMENTS_LABEL"
                                  class="t-Form-label">Reject Comments </label>
                              </div>
                              <div class="t-Form-inputContainer col col-4">
                                <div class="t-Form-itemWrapper">
                                  <div class="apex-item-group apex-item-group--textarea"><textarea
                                      name="P85_REJECT_COMMENTS" rows="5" cols="30" maxlength="2000"
                                      id="P85_REJECT_COMMENTS" class="textarea&#x20;apex-item-textarea"
                                      data-resizable="true"></textarea></div>
                                </div>
                                <div class="t-Form-itemAssistance">
                                  <span id="P85_REJECT_COMMENTS_error_placeholder" class="a-Form-error"
                                    data-template-id="8676937166964195_ET"></span>
                                  <div class="t-Form-itemRequired" aria-hidden="true">Required</div>
                                </div>

                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="row ">
                  <div class="col col-8  col-start"><span class="apex-grid-nbsp">&nbsp;</span></div>
                  <div class="col col-2  "><button class="t-Button t-Button--hot t-Button--large&#x20;t-Button--warning"
                      type="button" id="B34635969287459729"><span class="t-Button-label">Reject Request</span></button>
                  </div>
                </div>
              </div>
            </div>
          </main>
          <footer class="t-Footer" id="t_Footer" role="contentinfo">
            <div class="t-Footer-body">
              <div class="t-Footer-content"></div>
              <div class="t-Footer-apex">
                <div class="t-Footer-version"> </div>
                <div class="t-Footer-customize"></div>

              </div>
            </div>
            <div class="t-Footer-top">
              <a href="#top" class="t-Footer-topButton" id="t_Footer_topButton" title="Start of page"
                aria-label="Start of page"><span class="a-Icon icon-up-chevron" aria-hidden="true"></span></a>
            </div>
          </footer>
        </div>
      </div>
    </div>
    <div class="t-Body-inlineDialogs" id="t_Body_inlineDialogs"></div><input type="hidden" id="pPageFormRegionChecksums"
      value="&#x5B;&#x7B;&#x22;r&#x22;&#x3A;&#x22;34618643049459703&#x22;,&#x22;c&#x22;&#x3A;&#x22;PBhTjsjRUr3gWXnXc6CGTuXHyUxZTTs6XqltIph9BV1cqLt9x-VwKqahZRJLlgSfWXmpBEMlfKb-g8isZnoNtQ&#x22;&#x7D;&#x5D;">
    <input type="hidden" id="pPageItemsRowVersion" value="" /><input type="hidden" id="pPageItemsProtected"
      value="UDg1X0RJU1RSSUNUOlA4NV9FU0VWQUlfSUQ6UDg1X0NVUlJFTlRfT1BFUkFUT1Jf.,TkFNRTpQODVfQ1VSUkVOVF9PUEVSQVRPUl9NT0JJTEVfTlVNQkVSOlA4NV9DVVJS.,RU5UX01BSUxfSUQ6UDg1X1JFQVNPTl9GT1JfT1BFUkFUT1JfQ0hBTkdFOlA4NV9O.,RVdfT1BFUkFUT1JfTkFNRTpQODVfTkVXX09QRVJBVE9SX1BIT05FX05VTUJFUjpQ.,ODVfTkVXX09QRVJBVE9SX0FBREhBUl9OVU1CRVI6UDg1X05FV19NQUlMX0lE&#x2F;JCI0uQVvvC0Pt8VNc3GIxVRVcfa-XXd3lZUg3zC7VpN1c1CvOkUXMGy4aOIIqOFeqnQl74-jVEE9TGuotXApGg" />
  </form>


  <!-- jQuery -->
  <script src="../assets/js/jquery-3.6.0.min.js"></script>
  <script src="../assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

  <!-- DataTables -->
  <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
  <script src="../assets/js/widget.treeView.min.js"></script>
  <script src="../assets/js/commonMenu.js"></script>
  <script src="../assets/js/widget.interactiveReport.min.js"></script>
  <script src="../assets/js/widget.iconList.min.js"></script>
  <script src="../assets/js/widget.stickyTableHeader.min.js"></script>
  <script src="../assets/js/widget.stickyWidget.min.js"></script>
  <script src="../assets/js/item.Colorpicker.min.js"></script>
  <script src="../assets/js/jetCommonBundle.min.js"></script>
  <script src="../assets/js/chartBundle.min.js"></script>
  <script src="../assets/js/toastUtil.js"></script>
  <script src="../assets/js/dataTableUtil.js"></script>
  <script src="../assets/js/crypto-js.min.js"></script>
  <script src="../assets/js/theme42.min.js"></script>
  <script src="../assets/js/global.js"></script>
  <script src="../assets/js/encrypt_decrypt.js"></script>
  <script src="../assets/js/globalHeader.js"></script>
  <script src="../assets/js/singleFileUpload.js"></script>

  <script>
    $(document).ready(function () {
      console.log('jQuery loaded?', typeof jQuery !== 'undefined');
      console.log('DataTable loaded?', typeof $.fn.DataTable !== 'undefined'); // should be true

      $('#pressReleaseTable').DataTable();
    });
  </script>

  <script>
    console.log("âœ… DataTables loaded?", typeof $.fn.DataTable); 
  </script>
  <script>
    $('#t_Button_navControl').on('click', function () {
      $('#t_Body_nav').toggle();
    });

  </script>

  <script>

    import { processFile, checkFile, renderFileList } from '../assets/js/singleFileUpload.js';

    $(document).ready(function () {
      debugger

      var userId = localStorage.getItem('userId');
      const langSwitch = 'en';
      const apiUrl = "https://tngis.tnega.org/lcap_api/edm/v1/commonfunction";
      const secretKey = 'V7gN4dY8pT2xB3kRz';
      let details = '';
      let status = '';
      const urlParams = new URLSearchParams(window.location.search);
      const encodedDetails = urlParams.get('details');
      const encodedStatus = urlParams.get('status');

      // Decode from base64
      const decodedDetailsStr = atob(encodedDetails);
      const decodedStatus = atob(encodedStatus);

      // Parse JSON string
      const decodedDetails = JSON.parse(decodedDetailsStr);

      // Now you can access properties
      console.log(decodedDetails, "decoded status");
      console.log(decodedDetails.district, "district");
      console.log(decodedDetails.esevai_id, "esevai_id");

      // $('#P8_REQUEST_NUMBER_DISPLAY').val(decodedDetails); 
      $('#P85_DISTRICT_DISPLAY').text(decodedDetails.district);
      $('#P85_CURRENT_OPERATOR_NAME_DISPLAY').text(decodedDetails.current_operator_name);
      $('#P85_CURRENT_MAIL_ID_DISPLAY').text(decodedDetails.current_mail_id);
      $('#P85_NEW_OPERATOR_NAME_DISPLAY').text(decodedDetails.new_operator_name);
      $('#P85_NEW_OPERATOR_AADHAR_NUMBER_DISPLAY').text(decodedDetails.new_operator_aadhar_number);
      $('#P85_ESEVAI_ID_DISPLAY').text(decodedDetails.esevai_id);
      $('#P85_CURRENT_OPERATOR_MOBILE_NUMBER_DISPLAY').text(decodedDetails.current_operator_mobile_number);
      $('#P85_REASON_FOR_OPERATOR_CHANGE_DISPLAY').text(decodedDetails.reason_for_operator_change);
      $('#P85_NEW_OPERATOR_PHONE_NUMBER_DISPLAY').text(decodedDetails.new_operator_phone_number);
      $('#P85_NEW_MAIL_ID_DISPLAY').text(decodedDetails.new_mail_id);

      const payload = {
        action: "function_call",
        function_name: "hd_edm_service_assaign_form_fn",
        params: {
          p_request_no: decodedDetails
        }
      };

      //check
      // const apiUrl = "https://tngis.tnega.org/lcap_api/edm/v1/commonfunction";
      let edmAttachmentBase64 = "";
      let edmFileName = "";
      let edmMimeType = "";
      let uploadedFile = null;



      $.ajax({
        url: apiUrl,
        method: "POST",
        headers: {
          'X-APP-Key': "edm",
          'X-APP-Name': "edm"
        },
        data: {
          data: encryptData(payload)
        },
        dataType: 'json',
        cache: false,
        success: function (response) {
          console.log("Raw API response:", response); // Log raw response

          try {
            if (response && response.data) {
              console.log("Encrypted data received:", response.data);
              var decryptedResponse = decryptData(response.data);
              console.log(response);

              if (!Array.isArray(decryptedResponse) || decryptedResponse.length === 0) {
                throw new Error("Invalid decrypted data format");
              }

              const decrypted = decryptedResponse[0];
              console.log("Decrypted user data:", decrypted);


              $('#P89_INSTRUCTION_TYPE_DISPLAY').text(decrypted.instruction_type);
              $('#P89_FULL_DESCRIPTION_DISPLAY').text(decrypted.full_description);
              $('#P89_EDM_NOTES_1').text(decrypted.edm_notes);
              $('#P89_SHORT_DESCRIPTION_DISPLAY').text(decrypted.short_description);
              $('#P89_DISTRICT_DISPLAY').text(decrypted.district);
              // if (decrypted.attachment && decrypted.mime_type && decrypted.file_name) {
              //   const base64Data = decrypted.attachment;
              //   const mimeType = decrypted.mime_type;
              //   const fileName = decrypted.file_name;
              //   const fileSrc = `data:${mimeType};base64,${base64Data}`;
              //   const fileLink = `<a href="${fileSrc}" target="_blank" rel="noopener" download="${fileName}">${fileName}</a>`;

              //   $('#edm_file_preview_container').html(fileLink);
              // }

              if (decrypted.attachment && decrypted.mime_type && decrypted.file_name) {
                edmAttachmentBase64 = decrypted.attachment;
                edmMimeType = decrypted.mime_type;
                edmFileName = decrypted.file_name;

                const fileSrc = `data:${edmMimeType};base64,${edmAttachmentBase64}`;
                const fileLink = `<a href="${fileSrc}" target="_blank" rel="noopener" download="${edmFileName}">${edmFileName}</a>`;
                $('#edm_file_preview_container').html(fileLink);
              }

            } else {
              console.error("Invalid response structure - missing data field");
            }
          } catch (error) {
            console.error("Error processing response:", error);
          }
        },
        error: function (xhr, status, error) {
          console.error("API call failed:", {
            status: xhr.status,
            statusText: xhr.statusText,
            responseText: xhr.responseText,
            error: error
          });
        }
      });

      $('#P7_UPLOAD_DROPZONE_input').on('change', function (e) {
        const file = e.target.files[0];
        if (file) {
          const reader = new FileReader();
          reader.onload = function (event) {
            const base64Content = event.target.result.split(',')[1];
            uploadedFile = {
              fileBase64: base64Content,
              filename: file.name,
              fileType: file.type
            };
          };
          reader.readAsDataURL(file);
        }
      });

      $('#applyBtn').on('click', async function (event) {
        event.preventDefault();

        let finalAttachment = edmAttachmentBase64;
        let finalMimeType = edmMimeType;
        let finalFileName = edmFileName;

        // Only check for new file if user selected one
        const fileInput = document.getElementById('P7_UPLOAD_DROPZONE_input');
        if (fileInput && fileInput.files.length > 0) {
          const file = fileInput.files[0];

          const base64 = await readFileAsBase64(file);
          finalAttachment = base64;
          finalMimeType = file.type;
          finalFileName = file.name;
        }

        const edm_notes = $('#P89_EDM_NOTES_1').val();

        const updatePayload = {
          action: "update",
          table: "HD_EDM_SERVICE_ASSAIGN_TB",
          primary_key: "REQUEST_NUMBER",
          REQUEST_NUMBER: decodedDetails,
          EDM_NOTES: edm_notes,
          edm_upload: finalAttachment,
          attach_mimetype: finalFileName,
          attach_filename: finalMimeType
        };

        console.log("Sending:", updatePayload);

        $.ajax({
          url: 'https://tngis.tnega.org/lcap_api/edm/v1/commonApi',
          type: 'POST',
          data: { data: encryptData(updatePayload) },
          success: function () {
            showSuccessToast("Changes applied successfully.");
          },
          error: function () {
            showErrorToast("Update failed.");
          }
        });
      });

      function readFileAsBase64(file) {
        return new Promise((resolve, reject) => {
          const reader = new FileReader();
          reader.onload = () => {
            const base64 = reader.result.split(',')[1];
            resolve(base64);
          };
          reader.onerror = reject;
          reader.readAsDataURL(file);
        });
      }

      $('#submitFeedbackBtn').on('click', function (event) {
        event.preventDefault();

        const rating = $('#rating').val();
        const comments = $('#comments').val();

        if (!rating || !comments.trim()) {
          alert("Please provide both rating and comments.");
          return;
        }

        const updatePayload = {
          action: "update",
          table: "EDM_SERVICE_REQUEST_T",
          primary_key: "request_number",
          request_number: decodedDetails,
          request_status: 'Closed'
        };

        const feedbackPayload = {
          action: "update",
          table: "EDM_SERVICE_REQUEST_COMMENTS_T",
          primary_key: "request_number",
          request_number: decodedDetails,
          rating: rating,
          comments: comments.trim()
        };

        // First API call
        $.ajax({
          url: 'https://tngis.tnega.org/lcap_api/edm/v1/commonApi',
          type: 'POST',
          data: { data: encryptData(updatePayload) },
          success: function (response) {
            // Second API call
            $.ajax({
              url: 'https://tngis.tnega.org/lcap_api/edm/v1/commonApi',
              type: 'POST',
              data: { data: encryptData(feedbackPayload) },
              success: function (feedbackResponse) {
                showSuccessToast("Feedback submitted and request closed successfully.");
                setTimeout(() => {
                  window.location.href = "closed-request.html";
                }, 1000);
              },
              error: function (error) {
                showErrorToast("Request closed, but feedback submission failed.");
              }
            });
          },
          error: function (error) {
            showErrorToast("An error occurred during request status update.");
          }
        });

        console.log("Rating:", rating);
        console.log("Comments:", comments);

        const feedbackModal = bootstrap.Modal.getInstance(document.getElementById('feedbackModal'));
        feedbackModal.hide();
      });


      $('#reOpenBtn').on('click', function (event) {

        const updatePayload = {
          action: "update",
          table: "EDM_SERVICE_REQUEST_T",
          primary_key: "request_number",
          request_number: decodedDetails,
          request_status: 'Reopen'
        };


        // First API call: update status
        $.ajax({
          url: 'https://tngis.tnega.org/lcap_api/edm/v1/commonApi',
          type: 'POST',
          data: { data: encryptData(updatePayload) },
          success: function (response) {

            showSuccessToast("ReOpened successfully.");
            setTimeout(() => {
              window.location.href = "re-opened-request.html";
            }, 10000)

          },
          error: function (error) {
            showErrorToast("An error occurred during request status update.");
          }
        });
      });

      $('#exitBtn').on('click', function (event) {
        event.preventDefault();
        event.stopPropagation();
        // setTimeout(() => {
        //   window.location.href = "re-opened-request.html";
        // }, 10000)
        window.location.href = 'allrequest.html';
      });
    })



  </script>


</body>

</html>