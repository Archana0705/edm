<!DOCTYPE html>
<html class="no-js  page-87 app-E-DISTRICT-MANAGER-APPLICATION" lang="en">

<head>
  <meta http-equiv="x-ua-compatible" content="IE=edge" />
  <meta charset="utf-8">
  <title>Service Request</title>
  <link rel="stylesheet" href="../assets/css/oj-redwood-notag-min.css" type="text/css">
  <link rel="stylesheet" href="../assets/css/Core.min.css" type="text/css">
  <link rel="stylesheet" href="../assets/css/Theme-Standard.min.css" type="text/css">
  <link rel="stylesheet" href="../assets/css/font-apex.min.css" type="text/css">
  <link rel="stylesheet" href="../assets/css/Core-theme.min.css" type="text/css">
  <link rel="stylesheet" href="../assets/css/custom.min.css" type="text/css">
  <link rel="stylesheet" href="../assets/css/theme.css" type="text/css">
  <link rel="stylesheet" href="../assets/css/commonMenu.css" type="text/css">
  <link href="../assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="../assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="../assets/vendor/datatable/css/dataTables.css" rel="stylesheet">
  <link rel="stylesheet" href="../assets/vendor/datatable/dataTables.bootstrap5.min.css">
  <!-- Vendor CSS Files -->
  <link href="../assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="../assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">

  <link href="../assets/vendor/toastr/toastr.min.css" rel="stylesheet">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="-1" />
  <meta http-equiv="Cache-Control" content="no-cache" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    #t_Body_nav {
      width: 100% !important;
    }
  </style>
</head>

<body
  class="t-PageBody t-PageBody--hideLeft t-PageBody--hideActions no-anim t-PageTemplate--standard   apex-side-nav apex-icons-fontapex apex-theme-vita-copy-1"
  id="t_PageBody">
  <a href="#main" id="t_Body_skipToContent">Skip to Main Content</a>
  <form>
    <header class="t-Header" id="t_Header" role="banner">

      <div class="t-Header-branding">
        <div class="t-Header-controls">
          <button class="t-Button t-Button--icon t-Button--header t-Button--headerTree" aria-label="Main Navigation"
            title="Main Navigation" id="t_Button_navControl" type="button"><span class="t-Header-controlsIcon"
              aria-hidden="true"></span></button>
        </div>
        <div class="t-Header-logo">
          <!-- <a href="&#x2F;ords&#x2F;r&#x2F;edmdev&#x2F;e-district-manager-application&#x2F;home?session=116639350395160" class="t-Header-logo-link"><span class="apex-logo-text">e-District Manager Portal</span></a>-->
          <!-- <a href="&#x2F;ords&#x2F;r&#x2F;edmdev&#x2F;e-district-manager-application&#x2F;home?session=116639350395160" class="t-Header-logo-link">Toll Free Support : +91 9042370430</a>-->
          <P class="t-Header-logo-link">TNEGA</P>

        </div>
        <div class="t-Header-navBar">
          <div class="t-Header-navBar--start"></div>
          <div id="globalHeader"></div>
          <div class="t-Header-navBar--end"></div>
        </div>
      </div>
      <div class="t-Header-nav"></div>
    </header>
    <div class="t-Body">
      <div class="t-Body-nav" id="t_Body_nav" role="navigation" aria-label="Application">
        <div class="a-TreeView t-TreeNav js-addActions js-defaultCollapsed js-navCollapsed--hidden t-TreeNav--classic"
          id="t_TreeNav" data-id="87_tree" aria-label="Main Navigation">
          <ul id="commonMenuContainer"></ul>
        </div>
      </div>
      <div class="t-Body-main">
        <div class="t-Body-title" id="t_Body_title"></div>
        <div class="t-Body-content" id="t_Body_content">
          <main id="main" class="t-Body-mainContent">
            <span id="APEX_SUCCESS_MESSAGE" data-template-id="13879136713391167_S"
              class="apex-page-success u-hidden"></span><span id="APEX_ERROR_MESSAGE"
              data-template-id="13879136713391167_E" class="apex-page-error u-hidden"></span>
            <div class="t-Body-fullContent"></div>
            <div class="t-Body-contentInner">
              <div class="container">
                <div class="row ">
                  <div class="col col-1  col-start"><span class="apex-grid-nbsp">&nbsp;</span></div>
                  <div class="col col-10  ">
                    <div id="R60302750398352845" class="">
                      <div class="container">
                        <div class="row ">
                          <div class="col col-12 apex-col-auto col-start col-end">
                            <div
                              class="t-Form-fieldContainer rel-col t-Form-fieldContainer--large apex-item-wrapper apex-item-wrapper--has-initial-value apex-item-wrapper--display-only"
                              id="P87_REQUEST_NUMBER_CONTAINER">
                              <div class="t-Form-labelContainer col col-2">
                                <label for="P87_REQUEST_NUMBER" id="P87_REQUEST_NUMBER_LABEL"
                                  class="t-Form-label">Request Number</label>
                              </div>
                              <div class="t-Form-inputContainer col col-10">
                                <div class="t-Form-itemWrapper"><input type="hidden" id="P87_REQUEST_NUMBER"
                                    name="P87_REQUEST_NUMBER" value="HDINS&#x2F;2025-05-03&#x2F;5085"><input
                                    type="hidden" data-for="P87_REQUEST_NUMBER"
                                    value="1alr10YkfYHP_4WcnsCY5auETrtmDSXLJaAfWUtCnBtVX5SgC1etQvg-QLHxws1aBhCQQT2dwiqQcSJv5o_xww"><span
                                    id="P87_REQUEST_NUMBER_DISPLAY" class="display_only&#x20;apex-item-display-only"
                                    data-escape="true">HDINS&#x2F;2025-05-03&#x2F;5085</span></div><span
                                  id="P87_REQUEST_NUMBER_error_placeholder" class="a-Form-error"
                                  data-template-id="8676686131964195_ET"></span>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="row ">
                          <div class="col col-6 apex-col-auto col-start">
                            <div
                              class="t-Form-fieldContainer rel-col t-Form-fieldContainer--stretchInputs apex-item-wrapper apex-item-wrapper--has-initial-value apex-item-wrapper--display-only"
                              id="P87_REQUEST_CREATED_DTTM_CONTAINER">
                              <div class="t-Form-labelContainer col col-2">
                                <label for="P87_REQUEST_CREATED_DTTM" id="P87_REQUEST_CREATED_DTTM_LABEL"
                                  class="t-Form-label">Request Created Dttm</label>
                              </div>
                              <div class="t-Form-inputContainer col col-4">
                                <div class="t-Form-itemWrapper"><input type="hidden" id="P87_REQUEST_CREATED_DTTM"
                                    name="P87_REQUEST_CREATED_DTTM" value="03-05-2025 05:32 PM"><input type="hidden"
                                    data-for="P87_REQUEST_CREATED_DTTM"
                                    value="zgcOsReepiNP7gf2WXklyXRGXmI_yGFVKy-zCyK-Ns1BJXUFFzfM4AhjCclD4M2XQHCDcjvDctnjQPTG8hP62A"><span
                                    id="P87_REQUEST_CREATED_DTTM_DISPLAY"
                                    class="display_only&#x20;apex-item-display-only" data-escape="true">03-05-2025 05:32
                                    PM</span></div><span id="P87_REQUEST_CREATED_DTTM_error_placeholder"
                                  class="a-Form-error" data-template-id="8676686131964195_ET"></span>
                              </div>
                            </div>
                          </div>
                          <div class="col col-6 apex-col-auto col-end">
                            <div
                              class="t-Form-fieldContainer rel-col t-Form-fieldContainer--stretchInputs apex-item-wrapper apex-item-wrapper--has-initial-value apex-item-wrapper--display-only"
                              id="P87_REQUESTED_BY_CONTAINER">
                              <div class="t-Form-labelContainer col col-2">
                                <label for="P87_REQUESTED_BY" id="P87_REQUESTED_BY_LABEL" class="t-Form-label">Requested
                                  By</label>
                              </div>
                              <div class="t-Form-inputContainer col col-4">
                                <div class="t-Form-itemWrapper"><input type="hidden" id="P87_REQUESTED_BY"
                                    name="P87_REQUESTED_BY" value="General Helpdesk Operator"><input type="hidden"
                                    data-for="P87_REQUESTED_BY"
                                    value="WAN2n3u1e0nvxyv78CiwgGW2jr298u1-Ev2kivxAlOiej2SvrSHM8V__07NTV5ryIdTmTjxjoHF8ydFmKJiwlA"><span
                                    id="P87_REQUESTED_BY_DISPLAY" class="display_only&#x20;apex-item-display-only"
                                    data-escape="true">General Helpdesk Operator</span></div><span
                                  id="P87_REQUESTED_BY_error_placeholder" class="a-Form-error"
                                  data-template-id="8676686131964195_ET"></span>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="row ">
                          <div class="col col-12 apex-col-auto col-start col-end">
                            <div
                              class="t-Form-fieldContainer rel-col t-Form-fieldContainer--stretchInputs apex-item-wrapper apex-item-wrapper--has-initial-value apex-item-wrapper--display-only"
                              id="P87_ASSIGNED_TO_CONTAINER">
                              <div class="t-Form-labelContainer col col-2">
                                <label for="P87_ASSIGNED_TO" id="P87_ASSIGNED_TO_LABEL" class="t-Form-label">Assigned
                                  To</label>
                              </div>
                              <div class="t-Form-inputContainer col col-10">
                                <div class="t-Form-itemWrapper"><input type="hidden" id="P87_ASSIGNED_TO"
                                    name="P87_ASSIGNED_TO" value="Helpdesk_Operator1"><input type="hidden"
                                    data-for="P87_ASSIGNED_TO"
                                    value="V9Nyxp1YSt-aSHwkOFIUJAbPhAaYqESKHNLUTWrndArnYmsOoEpBD8FvZS0USb1zhpMMzVUdGUtXrQbWscmhBA"><span
                                    id="P87_ASSIGNED_TO_DISPLAY" class="display_only&#x20;apex-item-display-only"
                                    data-escape="true">Helpdesk_Operator1</span></div><span
                                  id="P87_ASSIGNED_TO_error_placeholder" class="a-Form-error"
                                  data-template-id="8676686131964195_ET"></span>
                              </div>
                            </div><input type="hidden" name="P87_EDM_ID" id="P87_EDM_ID" value="EDM0183">
                          </div>
                        </div>
                        <div class="row ">
                          <div class="col col-6 apex-col-auto col-start">
                            <div
                              class="t-Form-fieldContainer rel-col t-Form-fieldContainer--stretchInputs apex-item-wrapper apex-item-wrapper--has-initial-value apex-item-wrapper--display-only"
                              id="P87_INSTRUCTION_TYPE_CONTAINER">
                              <div class="t-Form-labelContainer col col-2">
                                <label for="P87_INSTRUCTION_TYPE" id="P87_INSTRUCTION_TYPE_LABEL"
                                  class="t-Form-label">Instruction Type</label>
                              </div>
                              <div class="t-Form-inputContainer col col-4">
                                <div class="t-Form-itemWrapper"><input type="hidden" id="P87_INSTRUCTION_TYPE"
                                    name="P87_INSTRUCTION_TYPE" value="Others"><input type="hidden"
                                    data-for="P87_INSTRUCTION_TYPE"
                                    value="nBN_P37AMzLNKP-yBpB-hQWN3AMaJJlmNUhNLEI6b3wXMdLjkIxk0azxIUZFldUPSdcBoOKG4XYGLlimsoss7w"><span
                                    id="P87_INSTRUCTION_TYPE_DISPLAY" class="display_only&#x20;apex-item-display-only"
                                    data-escape="true">Others</span></div><span
                                  id="P87_INSTRUCTION_TYPE_error_placeholder" class="a-Form-error"
                                  data-template-id="8676686131964195_ET"></span>
                              </div>
                            </div><input type="hidden" name="P87_PRIORITY" id="P87_PRIORITY" value="">
                          </div>
                          <div class="col col-6 apex-col-auto col-end">
                            <div
                              class="t-Form-fieldContainer rel-col t-Form-fieldContainer--stretchInputs apex-item-wrapper apex-item-wrapper--has-initial-value apex-item-wrapper--display-only"
                              id="P87_SHORT_DESCRIPTION_CONTAINER">
                              <div class="t-Form-labelContainer col col-2">
                                <label for="P87_SHORT_DESCRIPTION" id="P87_SHORT_DESCRIPTION_LABEL"
                                  class="t-Form-label">Short Description</label>
                              </div>
                              <div class="t-Form-inputContainer col col-4">
                                <div class="t-Form-itemWrapper"><input type="hidden" id="P87_SHORT_DESCRIPTION"
                                    name="P87_SHORT_DESCRIPTION"
                                    value="payment debit the wallet not generated acknowledgement cscvelampatti@gmail.com"><input
                                    type="hidden" data-for="P87_SHORT_DESCRIPTION"
                                    value="NyBkzmkLQE2wyXORExqlDFFDA9GPKVCn2Ez21rACUutuOgTiynCsFs2dTp76yVMpjYC8lSclPXzgPvZvQEpJlw"><span
                                    id="P87_SHORT_DESCRIPTION_DISPLAY" class="display_only&#x20;apex-item-display-only"
                                    data-escape="true">payment debit the wallet not generated acknowledgement
                                    cscvelampatti@gmail.com</span></div><span
                                  id="P87_SHORT_DESCRIPTION_error_placeholder" class="a-Form-error"
                                  data-template-id="8676686131964195_ET"></span>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="row ">
                          <div class="col col-6 apex-col-auto col-start">
                            <div
                              class="t-Form-fieldContainer rel-col t-Form-fieldContainer--stretchInputs apex-item-wrapper apex-item-wrapper--has-initial-value apex-item-wrapper--display-only"
                              id="P87_FULL_DESCRIPTION_CONTAINER">
                              <div class="t-Form-labelContainer col col-2">
                                <label for="P87_FULL_DESCRIPTION" id="P87_FULL_DESCRIPTION_LABEL"
                                  class="t-Form-label">Full Description</label>
                              </div>
                              <div class="t-Form-inputContainer col col-4">
                                <div class="t-Form-itemWrapper"><input type="hidden" id="P87_FULL_DESCRIPTION"
                                    name="P87_FULL_DESCRIPTION"
                                    value="Dear Sir 
               Iam using tnega id TNTAFKGI017-01 E DIST ID :tct_fch_kgi_26 using tamilnilam line payment done not generate application attached screen short below  amount :860 payment statement also attached below  Contact no :9003347857"><input
                                    type="hidden" data-for="P87_FULL_DESCRIPTION"
                                    value="8z8WFkst7i9oCdJG47SxhpaE2uFaHOy1IulNG8oJho9IQ1jLPhFXMFq3v7-t4vHYY5DBdZUhi3AR7crXoOEXCA"><span
                                    id="P87_FULL_DESCRIPTION_DISPLAY" class="display_only&#x20;apex-item-display-only"
                                    data-escape="true">Dear Sir <br /> Iam using tnega id TNTAFKGI017-01 E DIST ID
                                    :tct_fch_kgi_26 using tamilnilam line payment done not generate application attached
                                    screen short below amount :860 payment statement also attached below Contact no
                                    :9003347857</span></div><span id="P87_FULL_DESCRIPTION_error_placeholder"
                                  class="a-Form-error" data-template-id="8676686131964195_ET"></span>
                              </div>
                            </div>
                          </div>
                          <div class="col col-6 apex-col-auto col-end">
                            <div
                              class="t-Form-fieldContainer rel-col t-Form-fieldContainer--stretchInputs apex-item-wrapper apex-item-wrapper--textarea"
                              id="P87_EDM_NOTES_CONTAINER">
                              <div class="t-Form-labelContainer col col-2">
                                <label for="P87_EDM_NOTES" id="P87_EDM_NOTES_LABEL" class="t-Form-label">Helpdesk
                                  Notes</label>
                              </div>
                              <div class="t-Form-inputContainer col col-4">
                                <div class="t-Form-itemWrapper">
                                  <div class="apex-item-group apex-item-group--textarea"><textarea name="P87_EDM_NOTES"
                                      rows="4" cols="60" maxlength="5000" id="P87_EDM_NOTES"
                                      class="textarea&#x20;apex-item-textarea" data-resizable="true"></textarea></div>
                                </div><span id="P87_EDM_NOTES_error_placeholder" class="a-Form-error"
                                  data-template-id="8676686131964195_ET"></span>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="row ">
                          <div class="col col-6 apex-col-auto col-start">
                            <div
                              class="t-Form-fieldContainer rel-col t-Form-fieldContainer--stretchInputs t-Form-fieldContainer--large apex-item-wrapper apex-item-wrapper--has-initial-value apex-item-wrapper--select-list"
                              id="P87_DISTRICT_CONTAINER">
                              <div class="t-Form-labelContainer col col-2">
                                <label for="P87_DISTRICT" id="P87_DISTRICT_LABEL" class="t-Form-label">District</label>
                              </div>
                              <div class="t-Form-inputContainer col col-4">
                                <div class="t-Form-itemWrapper"><select id="P87_DISTRICT" name="P87_DISTRICT"
                                    class="selectlist&#x20;apex-item-select" data-native-menu="false" size="1">
                                    <option value=""></option>
                                    <option value="Ariyalur">Ariyalur</option>
                                    <option value="Chengalpattu">Chengalpattu</option>
                                    <option value="Chennai">Chennai</option>
                                    <option value="Coimbatore">Coimbatore</option>
                                    <option value="Cuddalore">Cuddalore</option>
                                    <option value="Dharmapuri">Dharmapuri</option>
                                    <option value="Dindigul">Dindigul</option>
                                    <option value="Erode">Erode</option>
                                    <option value="General">General</option>
                                    <option value="Kallakurichi">Kallakurichi</option>
                                    <option value="Kancheepuram">Kancheepuram</option>
                                    <option value="Kanyakumari">Kanyakumari</option>
                                    <option value="Karur">Karur</option>
                                    <option value="Krishnagiri">Krishnagiri</option>
                                    <option value="Madurai">Madurai</option>
                                    <option value="Mayiladuthurai">Mayiladuthurai</option>
                                    <option value="Nagapattinam">Nagapattinam</option>
                                    <option value="Namakkal">Namakkal</option>
                                    <option value="Nilgiris">Nilgiris</option>
                                    <option value="Perambalur">Perambalur</option>
                                    <option value="Pudukkottai">Pudukkottai</option>
                                    <option value="Ramanathapuram">Ramanathapuram</option>
                                    <option value="Ranipet">Ranipet</option>
                                    <option value="Salem">Salem</option>
                                    <option value="Sivagangai">Sivagangai</option>
                                    <option value="Tenkasi">Tenkasi</option>
                                    <option value="Thanjavur">Thanjavur</option>
                                    <option value="Theni">Theni</option>
                                    <option value="Thiruchirappalli">Thiruchirappalli</option>
                                    <option value="Thirupathur">Thirupathur</option>
                                    <option value="Thiruvarur">Thiruvarur</option>
                                    <option value="Thoothukudi">Thoothukudi</option>
                                    <option value="Tirunelveli">Tirunelveli</option>
                                    <option value="Tiruppur">Tiruppur</option>
                                    <option value="Tiruvallur">Tiruvallur</option>
                                    <option value="Tiruvannamalai">Tiruvannamalai</option>
                                    <option value="Vellore">Vellore</option>
                                    <option value="Viluppuram">Viluppuram</option>
                                    <option value="Virudhunagar">Virudhunagar</option>
                                  </select></div><span id="P87_DISTRICT_error_placeholder" class="a-Form-error"
                                  data-template-id="8676686131964195_ET"></span>
                              </div>
                            </div>
                          </div>
                          <div class="col col-6 apex-col-auto col-end">
                            <div
                              class="t-Form-fieldContainer rel-col t-Form-fieldContainer--stretchInputs t-Form-fieldContainer--large apex-item-wrapper apex-item-wrapper--has-initial-value apex-item-wrapper--select-list"
                              id="P87_ASSIGN_TO_1_CONTAINER">
                              <div class="t-Form-labelContainer col col-2">
                                <label for="P87_ASSIGN_TO_1" id="P87_ASSIGN_TO_1_LABEL" class="t-Form-label">Assign
                                  To</label>
                              </div>
                              <div class="t-Form-inputContainer col col-4">
                                <div class="t-Form-itemWrapper"><select id="P87_ASSIGN_TO_1" name="P87_ASSIGN_TO_1"
                                    class="selectlist&#x20;apex-item-select" data-native-menu="false" size="1">
                                    <option value=""></option>

                                  </select></div><span id="P87_ASSIGN_TO_1_error_placeholder" class="a-Form-error"
                                  data-template-id="8676686131964195_ET"></span>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="row ">
                          <div class="col col-8 apex-col-auto col-start"><button
                              class="t-Button t-Button--hot js-ignoreChange&#x20;t-Button--large&#x20;t-Button--warning"
                              type="button" id="B34252333769632052"><span class="t-Button-label">Cancel</span></button>
                          </div>

                          <div class="col col-1 apex-col-auto ">
                            <button class="t-Button t-Button--hot t-Button--large" type="button" id="reassignBtn"><span
                                class="t-Button-label">Re-Assign</span></button>
                          </div>
                          <div class="col col-3 apex-col-auto col-end"><button
                              class="t-Button t-Button--hot t-Button--large&#x20;t-Button--primary" type="button"
                              id="inprogressBtn"><span class="t-Button-label">In-Progress</span></button></div>

                        </div>
                        <div class="row ">
                          <div class="col col-2  col-start"><span class="apex-grid-nbsp">&nbsp;</span></div>
                          <div class="col col-8  ">
                            <div class="t-Region t-Region--removeHeader js-removeLandmark t-Region--scrollBody"
                              id="R40955172150089825" role="region" aria-label="New">
                              <div class="t-Region-header">
                                <div class="t-Region-headerItems t-Region-headerItems--title">
                                  <span class="t-Region-headerIcon"><span class="t-Icon "
                                      aria-hidden="true"></span></span>
                                  <h2 class="t-Region-title" id="R40955172150089825_heading" data-apex-heading>New</h2>
                                </div>
                                <div class="t-Region-headerItems t-Region-headerItems--buttons"><span
                                    class="js-maximizeButtonContainer"></span></div>
                              </div>
                              <div class="t-Region-bodyWrap">
                                <div class="t-Region-buttons t-Region-buttons--top">
                                  <div class="t-Region-buttons-left"></div>
                                  <div class="t-Region-buttons-right"></div>
                                </div>

                                <div class="t-Region-buttons t-Region-buttons--bottom">
                                  <div class="t-Region-buttons-left"></div>
                                  <div class="t-Region-buttons-right"></div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="row ">
                          <div class="col col-6 apex-col-auto col-start">
                            <div
                              class="t-Form-fieldContainer rel-col t-Form-fieldContainer--stretchInputs t-Form-fieldContainer--large apex-item-wrapper apex-item-wrapper--textarea"
                              id="P87_EDM_NOTES_1_2_CONTAINER">
                              <div class="t-Form-labelContainer col col-2">
                                <label for="P87_EDM_NOTES_1_2" id="P87_EDM_NOTES_1_2_LABEL" class="t-Form-label">Closing
                                  Notes</label>
                              </div>
                              <div class="t-Form-inputContainer col col-4">
                                <div class="t-Form-itemWrapper">
                                  <div class="apex-item-group apex-item-group--textarea"><textarea
                                      name="P87_EDM_NOTES_1_2" rows="5" cols="30" maxlength="1000"
                                      id="P87_EDM_NOTES_1_2" class="textarea&#x20;apex-item-textarea"
                                      data-resizable="true"></textarea></div>
                                </div><span id="P87_EDM_NOTES_1_2_error_placeholder" class="a-Form-error"
                                  data-template-id="8676686131964195_ET"></span>
                              </div>
                            </div>
                          </div>
                          <div class="col col-6 apex-col-auto col-end">
                            <div
                              class="t-Form-fieldContainer rel-col t-Form-fieldContainer--stretchInputs t-Form-fieldContainer--large apex-item-wrapper apex-item-wrapper--file"
                              id="P87_EDM_UPLOAD_CONTAINER">
                              <div class="t-Form-labelContainer col col-2">
                                <label for="P87_EDM_UPLOAD" id="P87_EDM_UPLOAD_LABEL" class="t-Form-label">Closing
                                  Attachment</label>
                              </div>
                              <div class="t-Form-inputContainer col col-6" id="P7_UPLOAD_DROPZONE">
                                <div class="t-Form-itemWrapper">
                                  <label for="P7_UPLOAD_DROPZONE_input">Upload File (PDF/JPG/JPEG, Max 2MB):</label>
                                  <input type="file" id="P7_UPLOAD_DROPZONE_input" accept=".pdf,.jpg,.jpeg" multiple />
                                  <span id="P7_UPLOAD_DROPZONE_input_error_placeholder" class="a-Form-error"
                                    style="color:red; display:block; margin-top:5px;"></span>
                                </div>

                                <div id="filePreviewList" style="margin-top: 10px;"></div>

                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col col-9  col-start"><span class="apex-grid-nbsp">&nbsp;</span></div>
                          <div class="col col-2  "><button onclick=""
                              class="t-Button t-Button--hot t-Button--large&#x20;t-Button--success" type="button"
                              id="closeTicketBtn"><span class="t-Button-label">Close Ticket</span></button></div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div><input type="hidden" name="P87_NEW" id="P87_NEW" value=""><input type="hidden" data-for="P87_NEW"
                  value="KG63Rs5EC237seIVPMouEYCMkVAaywtkbUs2utM3kGp6QgD2E8uViBbTU2Ve3yEjHLa5xqRFV0f1M1b4hvJhVQ">
              </div>
            </div>
          </main>
          <footer class="t-Footer" id="t_Footer" role="contentinfo">
            <div class="t-Footer-body">
              <div class="t-Footer-content"></div>
              <div class="t-Footer-apex">
                <div class="t-Footer-version"> </div>
                <div class="t-Footer-customize"></div>

              </div>
            </div>
            <div class="t-Footer-top">
              <a href="#top" class="t-Footer-topButton" id="t_Footer_topButton" title="Start of page"
                aria-label="Start of page"><span class="a-Icon icon-up-chevron" aria-hidden="true"></span></a>
            </div>
          </footer>
        </div>
      </div>
    </div>
    <div class="t-Body-inlineDialogs" id="t_Body_inlineDialogs"></div><input type="hidden" id="pPageFormRegionChecksums"
      value="&#x5B;&#x7B;&#x22;r&#x22;&#x3A;&#x22;60302750398352845&#x22;,&#x22;c&#x22;&#x3A;&#x22;CvgxvvcPql5yMjf9ruPtYAc8KvGmJRVmY5h51unfVWjz2BHBt-zBzDt6U4yEpNEYRKK0-JQf4-rf1SHa3-K8fg&#x22;&#x7D;&#x5D;">
    <input type="hidden" id="pPageItemsRowVersion" value="" /><input type="hidden" id="pPageItemsProtected"
      value="UDg3X1JFUVVFU1RfTlVNQkVSOlA4N19SRVFVRVNUX0NSRUFURURfRFRUTTpQODdf.,UkVRVUVTVEVEX0JZOlA4N19BU1NJR05FRF9UTzpQODdfSU5TVFJVQ1RJT05fVFlQ.,RTpQODdfU0hPUlRfREVTQ1JJUFRJT046UDg3X0ZVTExfREVTQ1JJUFRJT046UDg3.,X05FVw&#x2F;xIJ5wuAVvEQPoeBzhkk-RsKmXkMNiqWOOYF9-gZ2dGwlkoife-ROn34tW4DN8ICNhn1BIShfNpqOPSj5SGhJcw" />
  </form>



  <!-- jQuery -->
  <script src="../assets/js/jquery-3.6.0.min.js"></script>
  <script src="../assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

  <!-- DataTables -->
  <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
  <script src="../assets/js/widget.treeView.min.js"></script>
  <script src="../assets/js/commonMenu.js"></script>
  <script src="../assets/js/widget.interactiveReport.min.js"></script>
  <script src="../assets/js/widget.iconList.min.js"></script>
  <script src="../assets/js/widget.stickyTableHeader.min.js"></script>
  <script src="../assets/js/widget.stickyWidget.min.js"></script>
  <script src="../assets/js/item.Colorpicker.min.js"></script>
  <script src="../assets/js/jetCommonBundle.min.js"></script>
  <script src="../assets/js/chartBundle.min.js"></script>
  <script src="../assets/js/toastUtil.js"></script>
  <script src="../assets/js/dataTableUtil.js"></script>
  <script src="../assets/js/crypto-js.min.js"></script>
  <script src="../assets/js/theme42.min.js"></script>
  <script src="../assets/js/global.js"></script>
  <script src="../assets/js/encrypt_decrypt.js"></script>
  <script src="../assets/js/globalHeader.js"></script>
  <script>
    $(document).ready(function () {
      console.log('jQuery loaded?', typeof jQuery !== 'undefined');
      console.log('DataTable loaded?', typeof $.fn.DataTable !== 'undefined'); // should be true

      $('#pressReleaseTable').DataTable();
    });
  </script>

  <script>
    console.log("✅ DataTables loaded?", typeof $.fn.DataTable); 
  </script>
  <script>
    $('#t_Button_navControl').on('click', function () {
      $('#t_Body_nav').toggle();
    });

  </script>
  <script>

    import { processFile, checkFile, renderFileList } from '../assets/js/singleFileUpload.js';

    $(document).ready(function () {
      debugger

      var userId = localStorage.getItem('userId');
      var userName = localStorage.getItem('userName');

      const langSwitch = 'en';
      const apiUrl = "https://tngis.tnega.org/lcap_api/edm/v1/commonfunction";
      const secretKey = 'V7gN4dY8pT2xB3kRz';
      let decodedDetailsStr = '';
      let decodedDetails = null;

      const urlParams = new URLSearchParams(window.location.search);
      const encodedDetails = urlParams.get('details');

      try {
        if (!encodedDetails) throw new Error("No 'details' param found");

        // ✅ Decode safely
        const decodedDetailsStr = decodeURIComponent(escape(atob(encodedDetails)));
        const decodedDetails = JSON.parse(decodedDetailsStr);

        console.log("✅ Decoded Details:", decodedDetails);

        $('#P87_REQUEST_NUMBER_DISPLAY').text(decodedDetails.request_number || '');
        $('#P87_REQUEST_CREATED_DTTM_DISPLAY').text(decodedDetails.request_created_dttm || '');
        $('#P87_ASSIGNED_TO_DISPLAY').text(decodedDetails.assigned_to || '');
        $('#P87_INSTRUCTION_TYPE_DISPLAY').text(decodedDetails.instruction_type || '');
        $('#P87_FULL_DESCRIPTION_DISPLAY').text(decodedDetails.full_description || '');
        $('#P87_REQUESTED_BY_DISPLAY').text(decodedDetails.requested_by || '');
        $('#P87_SHORT_DESCRIPTION_DISPLAY').text(decodedDetails.short_description || '');

      } catch (e) {
        console.error("❌ Decoding Failed:", e.message);
        $('#P87_FULL_DESCRIPTION_DISPLAY').text("⚠️ Unable to load details.");
      }



      $('#P87_DISTRICT').on('change', function () {
        const selectedDistrict = $(this).val();

        if (!selectedDistrict) return;

        const payload = {
          action: "function_call",
          function_name: "assign_to_1_list_fn",
          params: {
            p_district: selectedDistrict
          }
        };

        $.ajax({
          url: "https://tngis.tnega.org/lcap_api/edm/v1/commonfunction",
          method: "POST",
          headers: {
            'X-APP-Key': "edm",
            'X-APP-Name': "edm"
          },
          data: {
            data: encryptData(payload)
          },
          dataType: 'json',
          cache: false,
          success: function (response) {
            try {
              if (response && response.data) {
                console.log("Encrypted data received:", response.data);
                var decryptedResponse = decryptData(response.data);
                console.log("decryptedddddd", decryptedResponse);

                const $assignToDropdown = $('#P87_ASSIGN_TO_1');
                $assignToDropdown.find('option:not(:first)').remove();

                // Append new options from decrypted response
                decryptedResponse.forEach(item => {
                  if (item.assign_to) {
                    const option = $('<option>', {
                      value: item.assign_to,
                      text: item.assign_to
                    });
                    $assignToDropdown.append(option);
                  }
                });


              } else {
                console.error("error");
              }
            } catch (error) {
              console.error("Error processing response:", error);
            }
          },
          error: function (xhr, status, error) {
            console.error("API call failed:", {
              status: xhr.status,
              statusText: xhr.statusText,
              responseText: xhr.responseText,
              error: error
            });
          }
        });
      });

      $('#reassignBtn').on('click', function (event) {
        event.preventDefault();

        const selectedDistrict = $('#P87_DISTRICT').val();
        const assign_to = $('#P87_ASSIGN_TO_1').val();
        const edm_notes = $('#P87_EDM_NOTES').val();

        // --- Validation ---
        if (!selectedDistrict) {
          showErrorToast("Please select a District.");
          $('#P87_DISTRICT').focus();
          return;
        }

        if (!assign_to) {
          showErrorToast("Please select a person to assign to.");
          $('#P87_ASSIGN_TO_1').focus();
          return;
        }

        if (!edm_notes || edm_notes.trim() === '') {
          showErrorToast("Please enter EDM Notes.");
          $('#P87_EDM_NOTES').focus();
          return;
        }
        const requestNumber = $('#P87_REQUEST_NUMBER_DISPLAY').text();
        const payload = {
          action: "function_call",
          function_name: "upt_reassign_edm_serv_assn_fn",
          params: {
            p_assign_to_1: assign_to,
            p_edm_notes: edm_notes,
            p_district: selectedDistrict,
            p_req_number: requestNumber,
            p_user_id: userId
          }
        };
        $.ajax({
          url: "https://tngis.tnega.org/lcap_api/edm/v1/commonfunction",
          method: "POST",
          headers: {
            'X-APP-Key': "edm",
            'X-APP-Name': "edm"
          },
          data: {
            data: encryptData(payload)
          },
          dataType: 'json',
          cache: false,
          success: function (response) {
            showSuccessToast("Re-Assigned Successfully");
            setTimeout(() => {
              window.location.href = "reassigned-request.html";
            }, 1000);
          },
          error: function (xhr, status, error) {

            console.error("API call failed:", {
              status: xhr.status,
              statusText: xhr.statusText,
              responseText: xhr.responseText,
              error: error
            });

            showErrorToast(xhr.statusText);

          }
        });

      });


      $('#inprogressBtn').on('click', function (event) {
        event.preventDefault();

        const requestNumber = $('#P87_REQUEST_NUMBER_DISPLAY').text();

        const payload = {
          action: "function_call",
          function_name: "upt_inprog_ticket_edm_ser_asgn_fn",
          params: {
            p_req_number: requestNumber,
            p_user_id: userId

          }
        };
        $.ajax({
          url: "https://tngis.tnega.org/lcap_api/edm/v1/commonfunction",
          method: "POST",
          headers: {
            'X-APP-Key': "edm",
            'X-APP-Name': "edm"
          },
          data: {
            data: encryptData(payload)
          },
          dataType: 'json',
          cache: false,
          success: function (response) {
            showSuccessToast("Status Changed Successfully");
            setTimeout(() => {
              window.location.href = "inprogress-request.html";
            }, 1000);
          },
          error: function (xhr, status, error) {

            console.error("API call failed:", {
              status: xhr.status,
              statusText: xhr.statusText,
              responseText: xhr.responseText,
              error: error
            });

            showErrorToast(xhr.statusText);

          }
        });

      });

      $('#closeTicketBtn').on('click', async function (event) {
        debugger
        event.preventDefault();
        var closed_notes = $('#P87_EDM_NOTES_1_2').val();
        if (!closed_notes) {
          showErrorToast("Please select a person to assign to.");
          $('#P87_EDM_NOTES_1_2').focus();
          return;
        }

        const uploadedFiles = await processFile('#P7_UPLOAD_DROPZONE_input');
        if (!uploadedFiles) return;
        const uploadFile = uploadedFiles[0];


        const requestNumber = $('#P87_REQUEST_NUMBER_DISPLAY').text();
        const payload = {
          action: "function_call",
          function_name: "upt_close_ticket_edm_ser_asgn_fn",
          params: {
            p_edm_notes: closed_notes,
            p_req_number: requestNumber,
            p_attachment: uploadFile?.fileBase64 || null,
            p_mimetype: uploadFile?.fileType || null,
            p_file_name: uploadFile?.filename || null,
            p_user_id: userId
          }
        }
        console.log(payload);
        return;
        $.ajax({
          url: apiUrl,
          method: "POST",
          headers: {
            'X-APP-Key': "edm",
            'X-APP-Name': "edm"
          },
          data: {
            data: encryptData(payload)
          },
          dataType: 'json',
          cache: false,
          success: function (response) {
            alert("inserted Succesfully")
          },
          error: function (xhr, status, error) {
            console.error("API call failed:", {
              status: xhr.status,
              statusText: xhr.statusText,
              responseText: xhr.responseText,
              error: error
            });
          }
        });


        console.log(payload);

      });

    });

  </script>

</body>

</html>